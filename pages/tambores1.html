<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anima칞칚o de Rufem os Tambores</title>
    <script src="../scripts/jquery-3.6.0.min.js"></script>
    <style>
        /* Estilos para o tambor */
        .drum {
            width: 100px;
            height: 50px;
            background-color: #8B4513; /* Cor marrom do tambor */
            border-radius: 10px;
            position: relative;
            margin: 100px auto; /* Centraliza o tambor */
        }

        /* Peda칞os do tambor (superior e inferior) */
        .drum::before, .drum::after {
            content: "";
            position: absolute;
            width: 100%;
            height: 10px;
            background-color: #654321; /* Cor mais escura */
            left: 0;
        }
        
        .drum::before {
            top: -10px; /* Parte superior do tambor */
        }

        .drum::after {
            bottom: -10px; /* Parte inferior do tambor */
        }

        /* Anima칞칚o do tambor */
        @keyframes shake {
            0% { transform: rotate(0deg); }
            25% { transform: rotate(2deg); }
            50% { transform: rotate(0deg); }
            75% { transform: rotate(-2deg); }
            100% { transform: rotate(0deg); }
        }

        /* Aplica a anima칞칚o ao tambor */
        .drum {
            animation: shake 0.1s infinite linear;
        }

        /* Baquetas */
        .stick {
            width: 10px;
            height: 80px;
            background-color: #A0522D;
            position: absolute;
            top: -40px;
            border-radius: 5px;
            transform-origin: bottom;
            animation: drumstick 0.1s infinite ease-in-out;
        }

        /* Baqueta esquerda */
        .stick-left {
            left: 15px;
            transform: rotate(-15deg);
            animation-delay: 0.05s; /* Ligeiro atraso para o movimento alternado */
        }

        /* Baqueta direita */
        .stick-right {
            right: 15px;
            transform: rotate(15deg);
        }

        /* Anima칞칚o das baquetas */
        @keyframes drumstick {
            0%, 100% { transform: rotate(15deg); }
            50% { transform: rotate(0deg); }
        }

        .podium {
            display: flex;
            justify-content: center;
            align-items: flex-end;
            height: 300px;
            gap: 10px;
        }

        /* P칩dio para o 1췈 lugar */
        .first {
            width: 80px;
            height: 120px;
            background-color: gold;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            position: relative;
        }

        .first::after {
            content: "游볞";
            font-size: 40px;
            position: absolute;
            top: -30px;
        }

        /* P칩dio para o 2췈 lugar */
        .second {
            width: 80px;
            height: 110px;
            background-color: silver;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            position: relative;
        }

        .second::after {
            content: "游볟";
            font-size: 35px;
            position: absolute;
            top: -30px;
        }

        /* P칩dio para o 3췈 lugar */
        .third {
            width: 80px;
            height: 100px;
            background-color: #cd7f32;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 18px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            position: relative;
        }

        .third::after {
            content: "游볠";
            font-size: 30px;
            position: absolute;
            top: -30px;
        }
    </style>
</head>
<body>

<div id="drumsAnimation" class="drum">
    <div class="stick stick-left"></div>
    <div class="stick stick-right"></div>
</div>

<!-- <button id="drumsBt" onclick="playDrumRoll()">Rufar os Tambores</button> -->

<div id="podiumId" class="podium" style="display: none;">
    <div class="second">2췈</div>
    <div class="first">1췈</div>
    <div class="third">3췈</div>
</div>
<audio id="drum-audio" src="../audios/drums.mp3"></audio>

<!-- Bot칚o para iniciar o som e a anima칞칚o -->


<script>


    function playDrumRoll() {
        const drum = document.querySelector('.drum');
        const stickLeft = document.querySelector('.stick-left');
        const stickRight = document.querySelector('.stick-right');
        const audio = document.getElementById('drum-audio');

        // Define a dura칞칚o da anima칞칚o para o mesmo tempo que o 치udio
        const audioDuration = audio.duration * 1000;  // converte para ms (milissegundos)

        // Adiciona a classe de anima칞칚o
        drum.classList.add('animate');
        stickLeft.classList.add('animate');
        stickRight.classList.add('animate');

        // Reproduz o 치udio
        audio.play();

        // Remove a anima칞칚o ap칩s o t칠rmino do 치udio
        setTimeout(() => {
            drum.classList.remove('animate');
            stickLeft.classList.remove('animate');
            stickRight.classList.remove('animate');
            $('#drumsAnimation').hide();
            updatePodiumsColor()
            $('#podiumId').show()
        }, audioDuration);
    }

    $(document).on('click', '#drumsAnimation', function() {
        playDrumRoll()
});

    function updatePodiumsColor() {
        $('.first').css("background-color", "red");
        $('.second').css("background-color", "black");
        $('.third').css("background-color", "green");
    }
</script>


</body>
</html>
